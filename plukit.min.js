var PLUKIT={guitar:{acoustic:{nylon:{mp3:"gtr_aco_nylon.mp3"},steel:{mp3:"gtr_aco_steel.mp3"}},electric:{clean:{mp3:"gtr_elec_clean.mp3"},dist:{mp3:"gtr_elec_dist"}}}},Plukit=function(a){var b={};b.sampleFile=PLUKIT.guitar.acoustic.steel.mp3,b.samplePath="modules/plukit/",b.sampleLength=2e3,b.device="undefined"==typeof device?"browser":device.platform,this.settings=_.extend(this,b,a),this.spriteOffsets=this.calcSpriteOffsets(),this.player=this.getPlayer()};Plukit.prototype.getPlayer=function(){switch(this.settings.device){case"browser":return this.getHowler();case"Android":return this.getAndroid()}},Plukit.prototype.getHowler=function(){var a=new Howl({urls:[this.settings.samplePath+this.settings.sampleFile],sprite:this.settings.spriteOffsets});return a},Plukit.prototype.getAndroid=function(){var a=function(){},b=function(){},c=this.settings.samplePath+this.settings.sampleFile,d=new Media(c,a,b);return d},Plukit.prototype.calcSpriteOffsets=function(){var a=this,b=["c","c#/db","d","d#/eb","e","f","f#/gb","g","g#/ab","a","a#/bb","b"],c=0,d={},e=5;return _.times(e,function(e){var f=e+1;_.each(b,function(b){var e=b.split("/");d[e[0]+f]=[c,a.settings.sampleLength],e.length>1&&(d[e[1]+f]=[c,a.settings.sampleLength]),c+=a.settings.sampleLength})}),d},Plukit.prototype.play=function(a){switch(this.settings.device){case"browser":this.player.play(a);break;case"Android":var b=function(){},c=function(){},d=this.settings.samplePath+this.settings.sampleFile,e=new Media(d,b,c),f=this.spriteOffsets[a][0],g=function(){e.pause(),e.release()};e.seekTo(f),e.play(),window.setTimeout(g,1e3)}};